--- /home/leonardo/temp/qt4_docking.cpp.orig	2015-03-29 00:10:57.000000000 +0100
+++ /home/leonardo/temp/qt4_docking.cpp	2015-08-26 23:03:17.172639314 +0200
@@ -21,6 +21,7 @@
 #include <QtCore/QEvent>
 #include <QtGui/QMouseEvent>
 #include <QtGui/QMovie>
+#include <QtGui/QIcon>
 
 #include "plugins/docking/docking.h"
 
@@ -63,8 +64,9 @@
 {
 	kdebugf();
 
-	setIcon(DockingManager::instance()->defaultIcon().icon());
-
+	QIcon icon = QIcon::fromTheme(DockingManager::instance()->defaultIcon().fullPath());
+	setIcon(icon);
+	
 	connect(this, SIGNAL(activated(QSystemTrayIcon::ActivationReason)), this, SLOT(trayActivated(QSystemTrayIcon::ActivationReason)));
 
 	show();
@@ -97,7 +99,7 @@
 		Movie->deleteLater();
 		Movie = 0;
 	}
-	setIcon(icon.icon());
+	setIcon(QIcon::fromTheme(icon.fullPath()));
 }
 
 void Qt4TrayIcon::changeTrayMovie(const QString &moviePath)
